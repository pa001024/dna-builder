# 黎瑟技能实现文档

## 角色基础信息

- **角色名称**: 黎瑟·费西尔
- **属性**: 雷属性
- **武器精通**: 太刀/突击枪

## 技能机制

### 1. 快速出击 (E技能)

#### 技能描述

向前方飞跃并对沿途敌人造成雷属性伤害，[电能] 大于等于30时，消耗30[电能]提高飞跃速度及伤害倍率，并使自身获得造成伤害提高效果。

#### 实现要点

- 类型：突进技能 (DASH)
- 冷却时间：0.5秒
- 范围：10米
- 需要检查[电能]状态，如果>=30则消耗30点电能增强效果
- 造成伤害提高效果持续9秒
- 伤害倍率和消耗[电能]伤害倍率从LeveledSkill获取
- 神智消耗从CharBuild.calculateAttributes获取

---

### 2. 涡旋电场 (Q技能)

#### 技能描述

对自身周围范围内敌人造成雷属性伤害并使自身进入[电场爆发]状态，期间持续消耗神智，神智下降为0或再次使用此技能时退出[电场爆发]状态。

**电场爆发状态**：

- 自身和队友移动速度提高
- 每秒随机选取自身周围范围内的1名敌人造成雷属性伤害
- 轮流附加[正电荷]和[负电荷]，优先选取没有[电荷]的敌人

**电荷机制**：

- 带有[正电荷]的目标，每3秒随机选取其周围范围内1名带有[负电荷]的目标，双方均被向位置中点吸聚，并受到雷属性伤害
- 如果范围内没有带有[负电荷]的目标，随机选取目标，双方均受到雷属性伤害
- 带有[电荷]的目标，被再次附加同种[电荷]时，刷新持续时间；无法被附加不同种[电荷]

#### 实现要点

- 类型：持续施法技能 (CHANNEL)
- 冷却时间：1秒
- 范围：50米
- 持续时间：直到神智归零或手动关闭技能
- 每秒触发频率：1次
- 需要实现电荷系统（正电荷、负电荷）
- 需要实现电场爆发状态
- 每秒神智消耗从CharBuild.calculateAttributes获取
- 移动速度提高25%
- 所有伤害倍率从LeveledSkill获取

---

### 3. 战术节能 (被动技能)

#### 技能描述

自身消耗神智时，消耗量的一定比例转化为[电能]，[电能]上限与最大神智相等。

#### 实现要点

- 类型：被动技能 (PASSIVE)
- 需要实现电能系统
- 电能上限 = 最大神智值（从CharBuild.calculateAttributes获取）
- 监听神智消耗事件并按比例转换为电能
- 转换比例从LeveledSkill获取

---

## 根源能力

| 名称     | 效果                                                                         |
| -------- | ---------------------------------------------------------------------------- |
| 第一根源 | [电荷]造成的伤害变为半径3米的范围伤害。                                      |
| 第二根源 | 带有[电荷]的敌人被击败时，将[电荷]按照剩余时间传递给其周围20米内的其他目标。 |
| 第三根源 | [快速出击]等级+2，[战术节能]等级+1。                                         |
| 第四根源 | 初始拥有50.0%自身最大神智的[电能]。                                          |
| 第五根源 | [涡旋电场]等级+2，[战术节能]等级+1。                                         |
| 第六根源 | [电场爆发]每秒选取的敌人的数量增加至2名。                                    |

---

## 数据获取方式

### LeveledSkill数据结构

- 技能等级：从LeveledSkill获取
- 伤害倍率：从LeveledSkill获取
- 消耗数值：从LeveledSkill获取
- 持续时间：从LeveledSkill获取
- 转换比例：从LeveledSkill获取

### CharBuild.calculateAttributes

- 最大神智：从calculateAttributes获取
- 当前神智：从calculateAttributes获取
- 其他属性值：从calculateAttributes获取

---

## AI实现建议

### 核心系统

1. **电能系统**: 需要新增电能状态管理，上限等于最大神智值
2. **电荷系统**: 需要实现正电荷和负电荷状态，以及电荷相互作用机制
3. **电场爆发状态**: 需要实现持续状态管理，包括移动速度提升和周期性伤害

### 技能实现优先级

1. **快速出击**: 基础突进技能，需要实现电能消耗和伤害增强机制
2. **涡旋电场**: 复杂的持续施法技能，需要实现电荷系统和电场爆发状态
3. **战术节能**: 被动技能，需要监听神智消耗并转换为电能

### 数值平衡建议

- 所有数值从LeveledSkill和CharBuild.calculateAttributes动态获取
- 实现技能等级系统，使技能效果随等级提升
- 平衡冷却时间和资源消耗以保持游戏性
